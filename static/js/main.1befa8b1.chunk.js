(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,function(t,e,n){t.exports=n.p+"static/media/logo.66a91fa3.svg"},,function(t,e,n){t.exports=n(16)},,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(5),c=n.n(s),o=n(7),l=(n(13),n(14),function(t){var e=t.SearchOption;return i.a.createElement("div",{className:"optionTickets"},i.a.createElement("span",{className:"block-name"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),i.a.createElement("div",{className:"option-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",name:"allTransplants",onChange:e}),i.a.createElement("span",null,"\u0412\u0441\u0435"))),i.a.createElement("div",{className:"option-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",name:"withoutTransplants",onChange:e}),i.a.createElement("span",null,"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"))),i.a.createElement("div",{className:"option-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",name:"oneTransplant",onChange:e}),i.a.createElement("span",null,"1 \u041f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"))),i.a.createElement("div",{className:"option-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",name:"twoTransplants",onChange:e}),i.a.createElement("span",null,"2 \u041f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"))),i.a.createElement("div",{className:"option-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",name:"threeTransplants",onChange:e}),i.a.createElement("span",null,"3 \u041f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"))))}),r=(n(15),n(6)),d=n.n(r),u=function(t){var e=t.tickets,n=t.typeTickets,a=0,s=null===e||void 0===e?void 0:e.map((function(t){var e,n,s,c,o=Number((t.segments[0].duration/60).toFixed(2).toString().slice(3)),l=Number((t.segments[1].duration/60).toFixed(2).toString().slice(3));return o>60?(e=Math.ceil(t.segments[0].duration/60),n=o-60):(e=Math.round(t.segments[0].duration/60),n=Number((t.segments[0].duration/60).toFixed(2).toString().slice(3))),l>60?(s=Math.ceil(t.segments[1].duration/60),c=l-60):(s=Math.round(t.segments[1].duration/60),c=Number((t.segments[1].duration/60).toFixed(2).toString().slice(3))),i.a.createElement("div",{className:"ticket-item",key:a++},i.a.createElement("div",{className:"ticket-item_title"},i.a.createElement("div",{className:"ticket-item_price"},t.price+" P"),i.a.createElement("div",{className:"ticket-item_logo"},i.a.createElement("img",{src:d.a,alt:""}))),i.a.createElement("div",{className:"ticket-item_info"},i.a.createElement("div",{className:"ticket-item_inTime"},i.a.createElement("div",{className:"ticket-item_block"},i.a.createElement("span",{className:"ticket-item_block-title"},"MOW \u2013 HKT"),i.a.createElement("span",null,"".concat(new Date(t.segments[0].date).getFullYear(),"-").concat(new Date(t.segments[0].date).getMonth(),"-").concat(new Date(t.segments[0].date).getDate()))),i.a.createElement("div",{className:"ticket-item_block"},i.a.createElement("span",{className:"ticket-item_block-title"},"\u0412 \u043f\u0443\u0442\u0438"),i.a.createElement("span",null,"".concat(e,"\u0447 ").concat(n,"\u043c"))),i.a.createElement("div",{className:"ticket-item_block"},i.a.createElement("span",{className:"ticket-item_block-title"},t.segments[0].stops.length<1?"".concat(t.segments[0].stops.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"):t.segments[0].stops.length>1?"".concat(t.segments[0].stops.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"):"".concat(t.segments[0].stops.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430")),i.a.createElement("span",null,t.segments[0].stops.join(", ")))),i.a.createElement("div",{className:"ticket-item_outTime"},i.a.createElement("div",{className:"ticket-item_block"},i.a.createElement("span",{className:"ticket-item_block-title"},"MOW \u2013 HKT"),i.a.createElement("span",null,"".concat(new Date(t.segments[1].date).getFullYear(),"-").concat(new Date(t.segments[1].date).getMonth(),"-").concat(new Date(t.segments[1].date).getDate()))),i.a.createElement("div",{className:"ticket-item_block"},i.a.createElement("span",{className:"ticket-item_block-title"},"\u0412 \u043f\u0443\u0442\u0438"),i.a.createElement("span",null,"".concat(s,"\u0447 ").concat(c,"\u043c"))),i.a.createElement("div",{className:"ticket-item_block"},i.a.createElement("span",{className:"ticket-item_block-title"},t.segments[1].stops.length<1?"".concat(t.segments[1].stops.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"):t.segments[1].stops.length>1?"".concat(t.segments[1].stops.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"):"".concat(t.segments[1].stops.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430")),i.a.createElement("span",null,t.segments[1].stops.join(", "))))))}));return i.a.createElement("div",{className:"ticketsList"},i.a.createElement("div",{className:"list-options"},i.a.createElement("div",{className:"option-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",className:"option-input overSpeed",name:"global_change","data-radio":"overSpeed",onChange:n}),i.a.createElement("span",null,"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"))),i.a.createElement("div",{className:"option-item"},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",className:"option-input chepest",name:"global_change","data-radio":"chepest",onChange:n}),i.a.createElement("span",null,"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0451\u0432\u044b\u0439")))),s)},v=function(){return fetch("https://front-test.beta.aviasales.ru/search").then((function(t){return t.json()})).then((function(t){return fetch("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(t.searchId))})).then((function(t){return t.json()})).catch((function(t){return console.error(t)}))},m=n(1),k=function(t){return Object(m.a)(t).sort((function(t,e){return t.price-e.price}))},p=function(t){return Object(m.a)(t).sort((function(t,e){return t.segments[0].duration-e.segments[0].duration}))},g=function(t,e,n){var a,i,s;return(null===t||void 0===t?void 0:t.tickets)===(null===t||void 0===t?void 0:t.ticketsStart)?{tickets:Object(m.a)(null===t||void 0===t||null===(a=t.ticketsStart)||void 0===a?void 0:a.filter((function(t){return t.segments[0].stops.length===e&&t.segments[1].stops.length===e}))),ticketsPrev:null===t||void 0===t?void 0:t.tickets,ticketsStart:null===t||void 0===t?void 0:t.ticketsStart,sorted:null===t||void 0===t?void 0:t.sorted,changesStateOption:e}:(null===t||void 0===t?void 0:t.sorted)&&0!==Object(m.a)((null===n||void 0===n?void 0:n.tickets).filter((function(t){return t.segments[0].stops.length===e&&t.segments[1].stops.length===e}))).length?{tickets:Object(m.a)(null===t||void 0===t||null===(i=t.tickets)||void 0===i?void 0:i.filter((function(t){return t.segments[0].stops.length===e&&t.segments[1].stops.length===e}))),ticketsPrev:null===t||void 0===t?void 0:t.tickets,ticketsStart:null===t||void 0===t?void 0:t.ticketsStart,sorted:null===t||void 0===t?void 0:t.sorted,changesStateOption:e}:{tickets:[].concat(Object(m.a)(null===t||void 0===t?void 0:t.tickets),Object(m.a)(null===t||void 0===t||null===(s=t.ticketsStart)||void 0===s?void 0:s.filter((function(t){return t.segments[0].stops.length===e&&t.segments[1].stops.length===e})))),ticketsPrev:null===t||void 0===t?void 0:t.tickets,ticketsStart:null===t||void 0===t?void 0:t.ticketsStart,sorted:null===t||void 0===t?void 0:t.sorted,changesStateOption:e}},h=function(t,e,n){return(null===t||void 0===t?void 0:t.tickets)===(null===n||void 0===n?void 0:n.ticketsPrev)?{tickets:null===t||void 0===t?void 0:t.ticketsStart,ticketsPrev:null===t||void 0===t?void 0:t.ticketsPrev,ticketsStart:null===t||void 0===t?void 0:t.ticketsStart,sorted:null===t||void 0===t?void 0:t.sorted,changesStateOption:e}:0===Object(m.a)((null===n||void 0===n?void 0:n.tickets).filter((function(t){return t.segments[0].stops.length!==e&&t.segments[1].stops.length!==e}))).length?{tickets:null===t||void 0===t?void 0:t.ticketsStart,ticketsPrev:null===t||void 0===t?void 0:t.tickets,ticketsStart:null===t||void 0===t?void 0:t.ticketsStart,sorted:null===t||void 0===t?void 0:t.sorted,changesStateOption:e}:{tickets:Object(m.a)((null===n||void 0===n?void 0:n.tickets).filter((function(t){return t.segments[0].stops.length!==e&&t.segments[1].stops.length!==e}))),ticketsPrev:null===t||void 0===t?void 0:t.tickets,ticketsStart:null===t||void 0===t?void 0:t.ticketsStart,sorted:null===t||void 0===t?void 0:t.sorted,changesStateOption:e}},S=function(){var t=Object(a.useState)({tickets:[],ticketsPrev:[],ticketsStart:[],sorted:"",changesStateOption:1}),e=Object(o.a)(t,2),n=e[0],s=e[1];Object(a.useEffect)((function(){v().then((function(t){s({tickets:t.tickets,ticketsPrev:t.tickets,ticketsStart:t.tickets,sorted:"",changesStateOption:1})}))}),[]),Object(a.useEffect)((function(){s((function(){return"chepest"===(null===n||void 0===n?void 0:n.sorted)?{tickets:k(null===n||void 0===n?void 0:n.tickets),ticketsPrev:null===n||void 0===n?void 0:n.ticketsPrev,ticketsStart:k(null===n||void 0===n?void 0:n.ticketsStart),sorted:"chepest",changesStateOption:n.changesStateOption}:"overSpeed"===(null===n||void 0===n?void 0:n.sorted)?{tickets:p(null===n||void 0===n?void 0:n.tickets),ticketsPrev:null===n||void 0===n?void 0:n.ticketsPrev,ticketsStart:p(null===n||void 0===n?void 0:n.ticketsStart),sorted:"chepest",changesStateOption:n.changesStateOption}:{tickets:null===n||void 0===n?void 0:n.tickets,ticketsPrev:null===n||void 0===n?void 0:n.ticketsPrev,ticketsStart:null===n||void 0===n?void 0:n.ticketsStart,sorted:"",changesStateOption:null===n||void 0===n?void 0:n.changesStateOption}}))}),[null===n||void 0===n?void 0:n.changesStateOption]);return n?i.a.createElement("div",{className:"container app-wrap"},i.a.createElement(l,{SearchOption:function(t){var e=t.currentTarget,a=e.checked;s((function(t){switch(e.name){case"withoutTransplants":return a?g(n,0,t):h(n,0,t);case"oneTransplant":return a?g(n,1,t):h(n,1,t);case"twoTransplants":return a?g(n,2,t):h(n,2,t);case"threeTransplants":return a?g(n,3,t):h(n,3,t);case"allTransplants":return a?{tickets:null===n||void 0===n?void 0:n.ticketsStart,ticketsPrev:null===n||void 0===n?void 0:n.tickets,ticketsStart:null===n||void 0===n?void 0:n.ticketsStart,sorted:null===n||void 0===n?void 0:n.sorted,changesStateOption:10}:{tickets:null===n||void 0===n?void 0:n.ticketsPrev,ticketsPrev:null===n||void 0===n?void 0:n.tickets,ticketsStart:null===n||void 0===n?void 0:n.ticketsStart,sorted:null===n||void 0===n?void 0:n.sorted,changesStateOption:10};default:return n}}))}}),i.a.createElement(u,{tickets:n.tickets,typeTickets:function(t){var e=t.currentTarget;s((function(t){switch(e.dataset.radio){case"chepest":return console.log(null===n||void 0===n?void 0:n.sorted),{tickets:k(null===n||void 0===n?void 0:n.tickets),ticketsPrev:null===n||void 0===n?void 0:n.ticketsPrev,ticketsStart:k(null===n||void 0===n?void 0:n.ticketsStart),sorted:"chepest",changesStateOption:null===n||void 0===n?void 0:n.changesStateOption};case"overSpeed":return{tickets:p(null===n||void 0===n?void 0:n.tickets),ticketsPrev:null===n||void 0===n?void 0:n.ticketsPrev,ticketsStart:p(null===n||void 0===n?void 0:n.ticketsStart),sorted:"overSpeed",changesStateOption:null===n||void 0===n?void 0:n.changesStateOption}}}))}})):i.a.createElement("div",null,"Loading....")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.1befa8b1.chunk.js.map